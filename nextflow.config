manifest {
    name = '<Workflow name>'
    author = 'Mahesh Binzer-Panchal'
    homePage = ''
    description = '<Workflow description>'
    mainScript = 'main.nf'
    // Update nextflowVersion to determine which versions of nextflow can be used.
    // '!>=21.04.0' : Only run with version 21.04.0 or higher, otherwise exit.
    nextflowVersion = '!>=21.04.0'
    version = '0.1'
}

profiles {

    // A profile for the Uppmax clusters
    uppmax {
        process {
            executor = 'slurm'
            clusterOptions = { "-A $params.project ${params.clusterOptions ?: ''}" }
            // Use node local storage for execution.
            scratch = '$SNIC_TMP'
        }
        // Specify resources to use.
        includeConfig "$baseDir/configs/compute_resources.config"
        // Specify singularity containers to use.
        singularity.enabled = true
        singularity.envWhitelist = 'SNIC_TMP'
        includeConfig "$baseDir/configs/singularity_packages.config"
    }

}

params {

    // UPPMAX project - Needed only when running on an UPPMAX cluster
    project = ''
    // Convenience for adding additional cluster options to UPPMAX
    clusterOptions = ''

    // Genome to annotate
    genome = ''

    // Default result directory
    outdir = 'results'

    // Use conda instead of containers
    enable_conda = false

    // When using singularity, construct image from a docker image
    singularity_pull_docker_container = false

    // Mode of copying results from the work directory
    // 'symlink' : Use for test data.
    // 'copy'    : Use for full analysis data.
    publish_mode = 'symlink' // values: 'symlink', 'copy'
}
